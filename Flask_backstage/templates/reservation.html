{% extends "base.html" %}

{% block title %}预约人信息{% endblock %}

{% block script %}

    <script>
        $(document).ready(function () {
            $("#quxiao").click(function () {

                var timelist=[]
                for (i=1;i<=id;i++){
                    timelist[i-1]=$("#" + "time" + i + "select").val()
                }
                $.post("/cancel",
                    {
                        classroom: $('#YongInput1').val(),
                        sunday: $('#YongInput3').val(),
                        date: $('#YongInput2').val(),
                        "time[]": timelist
                    }
                );
            });
        });
    </script>
{% endblock %}
{% block  body %}

    <div class="identity_form container">
        <form action="/reservation" method="post">
            {#		  <div class="form-group">#}
            {#		    <label for="exampleInputEmail1">姓名</label>#}
            {#		    <input type="text" class="form-control" id="NameInput" placeholder="请输入姓名" required="required" name="name">#}
            {#		  </div>#}
            {#		  <div class="form-group">#}
            {#		    <label for="exampleInputEmail1">电话</label>#}
            {#		    <input type="tel" class="form-control" id="TelephoneInput" placeholder="请输入手机号" required="required" name="phone">#}
            {#		  </div>#}
            <div class="form-group">
                <label for="exampleInputEmail1">教室</label>
                <input type="text" class="form-control" id="YongInput1" placeholder="教室" required="required"
                       name="classroom">
            </div>
            {#		  <div class="form-group">#}
            {#		    <label for="exampleInputEmail1">班级信息</label>#}
            {#		    <input type="text" class="form-control" id="ClassInput" placeholder="信工1601" required="required" name="classinfo">#}
            {#		  </div>#}
            <div class="form-group">
                <label for="exampleInputEmail1">第几周</label>
                <input type="text" class="form-control" id="YongInput2" placeholder="第几周" required="required"
                       name="date">
            </div>
            <div class="form-group">
                <label for="exampleInputEmail1">星期</label>
                <input type="text" class="form-control" id="YongInput3" placeholder="星期几" required="required"
                       name="sunday">
            </div>

            <select class="custom-select custom-select-md " id="time1select" name="time1select"
                    style="width: 150px;">
                <option value="none" selected>使用时间</option>
                <option value="一">第一节</option>
                <option value="二">第二节</option>
                <option value="三">第三节</option>
                <option value="四">第四节</option>
                <option value="五">第五节</option>
                <option value="六">第六节</option>
                <option value="七">第七节</option>
                <option value="八">第八节</option>
                <option value="九">第九节</option>
                <option value="十">第十节</option>
                <option value="十一">第十一节</option>
                <option value="十二">第十二节</option>
            </select>

            <button id="addtime" class="btn btn-primary ">+</button>
            <script>
                var id = 1;

                $("#addtime").on("click", function () {

                    var prev = "time" + id + "select";
                    id++;
                    nexthtml = '           <select class="custom-select custom-select-md " id="time' + id + 'select" name="time' + id + 'select" style="width: 150px;>\n' +
                        '                <option value="none" selected>使用时间</option>\n' +
                        '                <option value="none" selected>使用时间</option>\n' +
                        '                <option value="一">第一节</option>\n' +
                        '                <option value="二">第二节</option>\n' +
                        '                <option value="三">第三节</option>\n' +
                        '                <option value="四">第四节</option>\n' +
                        '                <option value="五">第五节</option>\n' +
                        '                <option value="六">第六节</option>\n' +
                        '                <option value="七">第七节</option>\n' +
                        '                <option value="八">第八节</option>\n' +
                        '                <option value="九">第九节</option>\n' +
                        '                <option value="十">第十节</option>\n' +
                        '                <option value="十一">第十一节</option>\n' +
                        '                <option value="十二">第十二节</option>\n' +
                        '            </select>'

                    $("#" + prev).after(nexthtml)
                })




            </script>

            <br>
            <br>
            <button type="submit" class="btn btn-primary">提交预约</button>
            <button href="/cancel" style="color: white" class="btn btn-primary" id="quxiao">取消预约</button>
            <a href="/" style="color: white" id="quxiao" class="btn-primary btn">返回主页</a>
        </form>
    </div>

{% endblock %}
